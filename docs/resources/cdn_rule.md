---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "edgecenter_cdn_rule Resource - edgecenter"
subcategory: ""
description: |-
  Represent cdn resource rule
---

# edgecenter_cdn_rule (Resource)

Represent cdn resource rule

## Example Usage

```terraform
provider "edgecenter" {
  permanent_api_token = "251$d3361.............1b35f26d8"
}

resource "edgecenter_cdn_rule" "cdn_example_com_rule_1" {
  resource_id = edgecenter_cdn_resource.cdn_example_com.id
  name        = "All PNG images"
  rule        = "/folder/images/*.png"

  options {
    edge_cache_settings {
      default = "14d"
    }
    browser_cache_settings {
      value = "14d"
    }
    redirect_http_to_https {
      value = true
    }
    gzip_on {
      value = true
    }
    cors {
      value = [
        "*"
      ]
    }
    rewrite {
      body = "/(.*) /$1"
    }
    webp {
      jpg_quality = 55
      png_quality = 66
    }
    ignore_query_string {
      value = true
    }
  }
}

resource "edgecenter_cdn_rule" "cdn_example_com_rule_2" {
  resource_id     = edgecenter_cdn_resource.cdn_example_com.id
  name            = "All JS scripts"
  rule            = "/folder/images/*.js"
  origin_protocol = "HTTP"

  options {
    redirect_http_to_https {
      enabled = false
      value   = true
    }
    gzip_on {
      enabled = false
      value   = true
    }
    query_params_whitelist {
      value = [
        "abc",
      ]
    }
  }
}

resource "edgecenter_cdn_origingroup" "origin_group_1" {
  name     = "origin_group_1"
  use_next = true
  origin {
    source  = "example.com"
    enabled = true
  }
}

resource "edgecenter_cdn_resource" "cdn_example_com" {
  cname               = "cdn.example.com"
  origin_group        = edgecenter_cdn_origingroup.origin_group_1.id
  origin_protocol     = "MATCH"
  secondary_hostnames = ["cdn2.example.com"]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) Rule name
- `resource_id` (Number)
- `rule` (String) A pattern that defines when the rule is triggered. By default, we add a leading forward slash to any rule pattern. Specify a pattern without a forward slash.

### Optional

- `active` (Boolean) Shows if the location is enabled.
- `options` (Block List, Max: 1) Each option in CDN resource settings. Each option added to CDN resource settings should have the following mandatory request fields: enabled, value. (see [below for nested schema](#nestedblock--options))
- `origin_group` (Number) ID of the Origins Group. Use one of your Origins Group or create a new one. You can use either 'origin' parameter or 'originGroup' in the resource definition.
- `origin_protocol` (String) This option defines the protocol that will be used by CDN servers to request content from an origin source. If not specified, it will be inherit from resource. Possible values are: HTTPS, HTTP, MATCH.
- `weight` (Number)

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedblock--options"></a>
### Nested Schema for `options`

Optional:

- `allowed_http_methods` (Block List, Max: 1) (see [below for nested schema](#nestedblock--options--allowed_http_methods))
- `brotli_compression` (Block List, Max: 1) (see [below for nested schema](#nestedblock--options--brotli_compression))
- `browser_cache_settings` (Block List, Max: 1) (see [below for nested schema](#nestedblock--options--browser_cache_settings))
- `cache_http_headers` (Block List, Max: 1) (see [below for nested schema](#nestedblock--options--cache_http_headers))
- `cors` (Block List, Max: 1) (see [below for nested schema](#nestedblock--options--cors))
- `country_acl` (Block List, Max: 1) (see [below for nested schema](#nestedblock--options--country_acl))
- `disable_proxy_force_ranges` (Block List, Max: 1) (see [below for nested schema](#nestedblock--options--disable_proxy_force_ranges))
- `edge_cache_settings` (Block List, Max: 1) The cache expiration time for CDN servers. (see [below for nested schema](#nestedblock--options--edge_cache_settings))
- `fetch_compressed` (Block List, Max: 1) (see [below for nested schema](#nestedblock--options--fetch_compressed))
- `follow_origin_redirect` (Block List, Max: 1) (see [below for nested schema](#nestedblock--options--follow_origin_redirect))
- `force_return` (Block List, Max: 1) (see [below for nested schema](#nestedblock--options--force_return))
- `forward_host_header` (Block List, Max: 1) (see [below for nested schema](#nestedblock--options--forward_host_header))
- `gzip_on` (Block List, Max: 1) (see [below for nested schema](#nestedblock--options--gzip_on))
- `host_header` (Block List, Max: 1) Specify the Host header that CDN servers use when request content from an origin server. Your server must be able to process requests with the chosen header. If the option is in NULL state Host Header value is taken from the CNAME field. (see [below for nested schema](#nestedblock--options--host_header))
- `ignore_cookie` (Block List, Max: 1) (see [below for nested schema](#nestedblock--options--ignore_cookie))
- `ignore_query_string` (Block List, Max: 1) (see [below for nested schema](#nestedblock--options--ignore_query_string))
- `image_stack` (Block List, Max: 1) (see [below for nested schema](#nestedblock--options--image_stack))
- `ip_address_acl` (Block List, Max: 1) (see [below for nested schema](#nestedblock--options--ip_address_acl))
- `limit_bandwidth` (Block List, Max: 1) (see [below for nested schema](#nestedblock--options--limit_bandwidth))
- `proxy_cache_methods_set` (Block List, Max: 1) (see [below for nested schema](#nestedblock--options--proxy_cache_methods_set))
- `query_params_blacklist` (Block List, Max: 1) (see [below for nested schema](#nestedblock--options--query_params_blacklist))
- `query_params_whitelist` (Block List, Max: 1) (see [below for nested schema](#nestedblock--options--query_params_whitelist))
- `redirect_http_to_https` (Block List, Max: 1) Sets redirect from HTTP protocol to HTTPS for all resource requests. (see [below for nested schema](#nestedblock--options--redirect_http_to_https))
- `redirect_https_to_http` (Block List, Max: 1) (see [below for nested schema](#nestedblock--options--redirect_https_to_http))
- `referrer_acl` (Block List, Max: 1) (see [below for nested schema](#nestedblock--options--referrer_acl))
- `response_headers_hiding_policy` (Block List, Max: 1) (see [below for nested schema](#nestedblock--options--response_headers_hiding_policy))
- `rewrite` (Block List, Max: 1) (see [below for nested schema](#nestedblock--options--rewrite))
- `secure_key` (Block List, Max: 1) (see [below for nested schema](#nestedblock--options--secure_key))
- `slice` (Block List, Max: 1) (see [below for nested schema](#nestedblock--options--slice))
- `sni` (Block List, Max: 1) (see [below for nested schema](#nestedblock--options--sni))
- `stale` (Block List, Max: 1) (see [below for nested schema](#nestedblock--options--stale))
- `static_headers` (Block List, Max: 1) Option has been deprecated. Use - static_response_headers. (see [below for nested schema](#nestedblock--options--static_headers))
- `static_request_headers` (Block List, Max: 1) (see [below for nested schema](#nestedblock--options--static_request_headers))
- `static_response_headers` (Block List, Max: 1) Specify custom HTTP Headers that a CDN server adds to a response. (see [below for nested schema](#nestedblock--options--static_response_headers))
- `user_agent_acl` (Block List, Max: 1) (see [below for nested schema](#nestedblock--options--user_agent_acl))
- `websockets` (Block List, Max: 1) (see [below for nested schema](#nestedblock--options--websockets))

<a id="nestedblock--options--allowed_http_methods"></a>
### Nested Schema for `options.allowed_http_methods`

Required:

- `value` (Set of String)

Optional:

- `enabled` (Boolean)


<a id="nestedblock--options--brotli_compression"></a>
### Nested Schema for `options.brotli_compression`

Required:

- `value` (Set of String)

Optional:

- `enabled` (Boolean)


<a id="nestedblock--options--browser_cache_settings"></a>
### Nested Schema for `options.browser_cache_settings`

Optional:

- `enabled` (Boolean)
- `value` (String)


<a id="nestedblock--options--cache_http_headers"></a>
### Nested Schema for `options.cache_http_headers`

Required:

- `value` (Set of String)

Optional:

- `enabled` (Boolean)


<a id="nestedblock--options--cors"></a>
### Nested Schema for `options.cors`

Required:

- `value` (Set of String)

Optional:

- `always` (Boolean)
- `enabled` (Boolean)


<a id="nestedblock--options--country_acl"></a>
### Nested Schema for `options.country_acl`

Required:

- `excepted_values` (Set of String)
- `policy_type` (String)

Optional:

- `enabled` (Boolean)


<a id="nestedblock--options--disable_proxy_force_ranges"></a>
### Nested Schema for `options.disable_proxy_force_ranges`

Required:

- `value` (Boolean)

Optional:

- `enabled` (Boolean)


<a id="nestedblock--options--edge_cache_settings"></a>
### Nested Schema for `options.edge_cache_settings`

Optional:

- `custom_values` (Map of String) Caching time for a response with specific codes. These settings have a higher priority than the value field. Response code ('304', '404' for example). Use 'any' to specify caching time for all response codes. Caching time in seconds ('0s', '600s' for example). Use '0s' to disable caching for a specific response code.
- `default` (String) Content will be cached according to origin cache settings. The value applies for a response with codes 200, 201, 204, 206, 301, 302, 303, 304, 307, 308 if an origin server does not have caching HTTP headers. Responses with other codes will not be cached.
- `enabled` (Boolean)
- `value` (String) Caching time for a response with codes 200, 206, 301, 302. Responses with codes 4xx, 5xx will not be cached. Use '0s' disable to caching. Use custom_values field to specify a custom caching time for a response with specific codes.


<a id="nestedblock--options--fetch_compressed"></a>
### Nested Schema for `options.fetch_compressed`

Required:

- `value` (Boolean)

Optional:

- `enabled` (Boolean)


<a id="nestedblock--options--follow_origin_redirect"></a>
### Nested Schema for `options.follow_origin_redirect`

Required:

- `codes` (Set of Number)

Optional:

- `enabled` (Boolean)
- `use_host` (Boolean)


<a id="nestedblock--options--force_return"></a>
### Nested Schema for `options.force_return`

Required:

- `code` (Number)

Optional:

- `body` (String)
- `enabled` (Boolean)


<a id="nestedblock--options--forward_host_header"></a>
### Nested Schema for `options.forward_host_header`

Required:

- `value` (Boolean)

Optional:

- `enabled` (Boolean)


<a id="nestedblock--options--gzip_on"></a>
### Nested Schema for `options.gzip_on`

Required:

- `value` (Boolean)

Optional:

- `enabled` (Boolean)


<a id="nestedblock--options--host_header"></a>
### Nested Schema for `options.host_header`

Required:

- `value` (String)

Optional:

- `enabled` (Boolean)


<a id="nestedblock--options--ignore_cookie"></a>
### Nested Schema for `options.ignore_cookie`

Required:

- `value` (Boolean)

Optional:

- `enabled` (Boolean)


<a id="nestedblock--options--ignore_query_string"></a>
### Nested Schema for `options.ignore_query_string`

Required:

- `value` (Boolean)

Optional:

- `enabled` (Boolean)


<a id="nestedblock--options--image_stack"></a>
### Nested Schema for `options.image_stack`

Required:

- `quality` (Number)

Optional:

- `avif_enabled` (Boolean)
- `enabled` (Boolean)
- `png_lossless` (Boolean)
- `webp_enabled` (Boolean)


<a id="nestedblock--options--ip_address_acl"></a>
### Nested Schema for `options.ip_address_acl`

Required:

- `excepted_values` (Set of String)
- `policy_type` (String)

Optional:

- `enabled` (Boolean)


<a id="nestedblock--options--limit_bandwidth"></a>
### Nested Schema for `options.limit_bandwidth`

Required:

- `limit_type` (String)

Optional:

- `buffer` (Number)
- `enabled` (Boolean)
- `speed` (Number)


<a id="nestedblock--options--proxy_cache_methods_set"></a>
### Nested Schema for `options.proxy_cache_methods_set`

Required:

- `value` (Boolean)

Optional:

- `enabled` (Boolean)


<a id="nestedblock--options--query_params_blacklist"></a>
### Nested Schema for `options.query_params_blacklist`

Required:

- `value` (Set of String)

Optional:

- `enabled` (Boolean)


<a id="nestedblock--options--query_params_whitelist"></a>
### Nested Schema for `options.query_params_whitelist`

Required:

- `value` (Set of String)

Optional:

- `enabled` (Boolean)


<a id="nestedblock--options--redirect_http_to_https"></a>
### Nested Schema for `options.redirect_http_to_https`

Required:

- `value` (Boolean)

Optional:

- `enabled` (Boolean)


<a id="nestedblock--options--redirect_https_to_http"></a>
### Nested Schema for `options.redirect_https_to_http`

Required:

- `value` (Boolean)

Optional:

- `enabled` (Boolean)


<a id="nestedblock--options--referrer_acl"></a>
### Nested Schema for `options.referrer_acl`

Required:

- `excepted_values` (Set of String)
- `policy_type` (String) Possible values: allow, deny.

Optional:

- `enabled` (Boolean)


<a id="nestedblock--options--response_headers_hiding_policy"></a>
### Nested Schema for `options.response_headers_hiding_policy`

Required:

- `excepted` (Set of String)
- `mode` (String)

Optional:

- `enabled` (Boolean)


<a id="nestedblock--options--rewrite"></a>
### Nested Schema for `options.rewrite`

Required:

- `body` (String)

Optional:

- `enabled` (Boolean)
- `flag` (String)


<a id="nestedblock--options--secure_key"></a>
### Nested Schema for `options.secure_key`

Required:

- `key` (String)
- `type` (Number)

Optional:

- `enabled` (Boolean)


<a id="nestedblock--options--slice"></a>
### Nested Schema for `options.slice`

Required:

- `value` (Boolean)

Optional:

- `enabled` (Boolean)


<a id="nestedblock--options--sni"></a>
### Nested Schema for `options.sni`

Optional:

- `custom_hostname` (String) Required to set custom hostname in case sni-type='custom'
- `enabled` (Boolean)
- `sni_type` (String) Available values 'dynamic' or 'custom'


<a id="nestedblock--options--stale"></a>
### Nested Schema for `options.stale`

Required:

- `value` (Set of String)

Optional:

- `enabled` (Boolean)


<a id="nestedblock--options--static_headers"></a>
### Nested Schema for `options.static_headers`

Required:

- `value` (Map of String)

Optional:

- `enabled` (Boolean)


<a id="nestedblock--options--static_request_headers"></a>
### Nested Schema for `options.static_request_headers`

Required:

- `value` (Map of String)

Optional:

- `enabled` (Boolean)


<a id="nestedblock--options--static_response_headers"></a>
### Nested Schema for `options.static_response_headers`

Required:

- `value` (Block List, Min: 1) (see [below for nested schema](#nestedblock--options--static_response_headers--value))

Optional:

- `enabled` (Boolean)

<a id="nestedblock--options--static_response_headers--value"></a>
### Nested Schema for `options.static_response_headers.value`

Required:

- `name` (String)
- `value` (Set of String)

Optional:

- `always` (Boolean)



<a id="nestedblock--options--user_agent_acl"></a>
### Nested Schema for `options.user_agent_acl`

Required:

- `excepted_values` (Set of String)
- `policy_type` (String)

Optional:

- `enabled` (Boolean)


<a id="nestedblock--options--websockets"></a>
### Nested Schema for `options.websockets`

Required:

- `value` (Boolean)

Optional:

- `enabled` (Boolean)
