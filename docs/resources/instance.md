---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "edgecenter_instance Resource - edgecenter"
subcategory: ""
description: |-
  A cloud instance is a virtual machine in a cloud environment
---

# edgecenter_instance (Resource)

A cloud instance is a virtual machine in a cloud environment

## Example Usage

```terraform
# Example 1
resource "edgecenter_instance" "instance1" {
  region_id       = var.region_id
  project_id      = var.project_id
  name            = "test-instance"
  flavor          = "g1-standard-2-4"
  keypair_name    = "test-keypair"
  server_group_id = "00000000-0000-0000-0000-000000000000"
  security_groups = ["00000000-0000-0000-0000-000000000000"]
  user_data       = "#cloud-config\npassword: ваш пароль\nchpasswd: { expire: False }\nssh_pwauth: True"

  metadata = {
    "key1" : "value1",
    "key2" : "value2",
  }

  volume {
    name           = "system"
    type_name      = "ssd_hiiops"
    size           = 30
    source         = "image"
    image_id       = "00000000-0000-0000-0000-000000000000"
    attachment_tag = "tag"
    boot_index     = 0
    metadata = {
      "tag" : "system"
    }
  }

  interface {
    type               = "any_subnet"
    network_id         = "00000000-0000-0000-0000-000000000000"
    floating_ip_source = "new"
  }

  interface {
    type               = "any_subnet"
    network_id         = "00000000-0000-0000-0000-000000000000"
    floating_ip_source = "existing"
    floating_ip        = "00000000-0000-0000-0000-000000000000"
  }

  interface {
    type       = "subnet"
    network_id = "00000000-0000-0000-0000-000000000000"
    subnet_id  = "00000000-0000-0000-0000-000000000000"
  }
}

# Example 2
# TBD with separate resource
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `flavor` (String) ID of the flavor, determining its compute and memory, for example 'g1-standard-2-4'.
- `interface` (Block List, Min: 1) list defining the network interfaces to be attached to the instance (see [below for nested schema](#nestedblock--interface))
- `project_id` (Number) uuid of the project
- `region_id` (Number) uuid of the region
- `volume` (Block List, Min: 1) list of volumes for the instances (see [below for nested schema](#nestedblock--volume))

### Optional

- `allow_app_ports` (Boolean) if true, application ports will be allowed in the security group for the instances created from the marketplace application template
- `keypair_name` (String) the name of the keypair to inject into new instance(s)
- `metadata` (Map of String) map containing metadata, for example tags.
- `name` (String) the instance name
- `name_templates` (List of String) list of the instance names which will be changed by template: ip_octets, two_ip_octets, one_ip_octet
- `password` (String) this parameter is used to set the password either for the 'Admin' user on a Windows VM or
the default user or a new user on a Linux VM
- `security_groups` (List of String) list of security group (firewall) UUIDs
- `server_group_id` (String) UUID of the anti-affinity or affinity server group (placement groups)
- `user_data` (String) a string in the base64 format. examples of user_data: https://cloudinit.readthedocs.io/en/latest/topics/examples.html
- `username` (String) name of a new user on a Linux VM

### Read-Only

- `addresses` (List of Map of String) network addresses associated with the instance
- `id` (String) The ID of this resource.
- `keypair_id` (String) uuid of the keypair
- `metadata_detailed` (List of Object) metadata in detailed format with system info (see [below for nested schema](#nestedatt--metadata_detailed))
- `region` (String) name of the region
- `status` (String) status of the VM
- `vm_state` (String) state of the virtual machine

<a id="nestedblock--interface"></a>
### Nested Schema for `interface`

Required:

- `type` (String) available values are 'subnet', 'any_subnet', 'external', 'reserved_fixed_ip'

Optional:

- `floating_ip` (String) floating IP for this subnet attachment
- `floating_ip_source` (String) floating IP type: 'existing' or 'new'
- `ip_address` (String)
- `network_id` (String) ID of the network that the subnet belongs to, required if type is 'subnet' or 'any_subnet'
- `port_id` (String) required if type is 'reserved_fixed_ip'
- `security_groups` (List of String) list of security group IDs
- `subnet_id` (String) required if type is 'subnet'


<a id="nestedblock--volume"></a>
### Nested Schema for `volume`

Required:

- `size` (Number) size of the volume, specified in gigabytes (GB)
- `source` (String) volume source

Optional:

- `attachment_tag` (String) the block device attachment tag (exposed in the metadata)
- `boot_index` (Number) 0 for the primary boot device. 
unique positive values for other bootable devices. negative - the boot is prohibited
- `delete_on_termination` (Boolean)
- `image_id` (String) ID of the image. this field is mandatory if creating a volume from an image
- `metadata` (Map of String) map containing metadata, for example tags.
- `name` (String) name of the volume
- `type_name` (String) volume type with valid values. defaults to 'ssd_hiiops'
- `volume_id` (String) ID of the volume. this field is mandatory if the volume is a pre-existing volume

Read-Only:

- `id` (String) The ID of this resource.


<a id="nestedatt--metadata_detailed"></a>
### Nested Schema for `metadata_detailed`

Read-Only:

- `key` (String)
- `read_only` (Boolean)
- `value` (String)


